<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aiolexa - چت‌بات هوشمند وردپرس با قدرت Gemini</title>
    <meta name="description" content="با افزونه چت‌بات Aiolexa، وب‌سایت وردپرسی خود را به یک دستیار هوشمند ۲۴ ساعته مجهز کنید و با قدرت Google Gemini، پشتیبانی مشتریان را متحول سازید.">
    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-dark: #3730a3;
            --secondary-color: #10b981;
            --text-dark: #111827;
            --text-light: #4b5563;
            --bg-light: #f9fafb;
            --bg-white: #ffffff;
            --border-color: #e5e7eb;
            --font-sans: 'Vazirmatn', sans-serif;
        }

        @font-face {
            font-family: 'Vazirmatn';
            src: url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-Variable.woff2') format('woff2-variations');
            font-weight: 100 900;
            font-style: normal;
            font-display: swap;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--bg-light);
            color: var(--text-light);
            line-height: 1.8;
            font-size: 16px;
            direction: rtl;
            text-align: right;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background: radial-gradient(circle at center, rgba(79, 70, 229, 0.05), transparent 40%);
            z-index: -1;
            animation: background-pulse 10s infinite alternate;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* --- Header --- */
        .main-header {
            background-color: rgba(249, 250, 251, 0.8);
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary-dark);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 40px;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .nav-links a:hover { color: var(--primary-color); }

        .btn {
            padding: 12px 28px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            display: inline-block;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.2);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(79, 70, 229, 0.3);
        }
        
        /* --- Hero Section --- */
        #hero {
            padding: 120px 0;
            text-align: center;
        }

        #hero h1 {
            font-size: 56px;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 25px;
            line-height: 1.4;
        }
        
        #hero h1 .highlight {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        #hero p {
            font-size: 20px;
            max-width: 750px;
            margin: 0 auto 40px;
        }
        
        .hero-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        /* --- General Section Styling --- */
        section { padding: 100px 0; }
        
        .section-title {
            text-align: center;
            margin-bottom: 70px;
        }
        
        .section-title h2 {
            font-size: 42px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 15px;
        }

        .section-title p {
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* --- Infographic Flow Section --- */
        .infographic-flow {
            position: relative;
            padding: 50px 0;
        }
        .infographic-flow::before {
            content: '';
            position: absolute;
            top: 0;
            right: 50%;
            transform: translateX(50%);
            width: 3px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
            z-index: 1;
        }
        
        .flow-item {
            display: flex;
            align-items: center;
            margin-bottom: 80px;
            position: relative;
            z-index: 2;
        }
        
        .flow-item:nth-child(even) { flex-direction: row-reverse; }
        
        .flow-content { flex: 1; }
        .flow-item:nth-child(odd) .flow-content { padding-left: 60px; }
        .flow-item:nth-child(even) .flow-content { padding-right: 60px; text-align: left; }
        
        .flow-icon-wrapper {
            flex-shrink: 0;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--bg-light);
            display: flex;
            justify-content: center;
            align-items: center;
            border: 3px solid var(--primary-color);
            box-shadow: 0 0 0 5px var(--bg-light);
        }
        .flow-item:nth-child(even) .flow-icon-wrapper { border-color: var(--secondary-color); }
        
        .flow-icon-wrapper .icon {
            width: 40px;
            height: 40px;
            color: var(--primary-color);
        }
        .flow-item:nth-child(even) .flow-icon-wrapper .icon { color: var(--secondary-color); }

        .flow-content h3 {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        /* --- Demo Section --- */
        #demo { background-color: var(--bg-white); }
        .demo-container {
            display: flex;
            gap: 60px;
            align-items: center;
        }
        .demo-text { flex: 1; }
        .demo-chat-wrapper { flex: 1; perspective: 1000px; }

        .demo-chat-window {
            min-width: 360px;
            height: 600px;
            background-color: var(--bg-white);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transform: rotateY(-10deg) rotateX(5deg);
            transition: transform 0.5s ease;
        }
        .demo-chat-wrapper:hover .demo-chat-window {
            transform: rotateY(0) rotateX(0);
        }
        
        .chat-header {
            background: linear-gradient(to left, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 20px;
            font-weight: bold;
            text-align: right;
            border-bottom: 1px solid var(--primary-dark);
        }
        
        .chat-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23e5e7eb' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .chat-message {
            max-width: 85%;
            padding: 12px 18px;
            border-radius: 20px;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.5s forwards;
            font-size: 15px;
        }
        
        .chat-message.bot {
            background-color: #e5e7eb;
            color: var(--text-dark);
            border-bottom-right-radius: 5px;
            align-self: flex-start;
        }

        .chat-message.user {
            background-color: var(--primary-color);
            color: white;
            border-bottom-left-radius: 5px;
            align-self: flex-end;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .typing-indicator span {
            height: 9px;
            width: 9px;
            background-color: #9ca3af;
            border-radius: 50%;
            animation: bounce 1.2s infinite ease-in-out;
        }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

        .chat-actions {
            padding: 15px;
            border-top: 1px solid var(--border-color);
            background-color: var(--bg-white);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .chat-action-button {
            padding: 8px 15px;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            background: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: var(--font-sans);
            font-weight: 500;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        .chat-action-button:hover { background-color: #eef2ff; }
        .chat-action-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background-color: transparent;
        }
        
        /* --- FAQ Section --- */
        .faq-item {
            background-color: var(--bg-white);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 20px 25px;
            font-size: 18px;
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
        }
        
        .faq-answer p {
            margin: 0;
            padding: 0 25px 25px;
        }
        
        .faq-item.active .faq-answer { max-height: 200px; }
        
        .faq-toggle {
            font-size: 28px;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: var(--primary-color);
            font-weight: 300;
        }
        
        .faq-item.active .faq-toggle { transform: rotate(135deg); }

        /* --- CTA Section --- */
        #cta {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-color) 100%);
            color: white;
            text-align: center;
            border-radius: 20px;
            margin: 0 auto;
            max-width: 1100px;
            padding: 80px 40px;
        }

        #cta h2 {
            font-size: 38px;
            font-weight: 700;
            color: white;
            margin-bottom: 30px;
        }
        #cta .btn {
            background-color: white; 
            color: var(--primary-color); 
            padding: 18px 36px; 
            font-size: 18px;
        }
        #cta .btn:hover {
             background-color: var(--bg-light);
             transform: translateY(-3px) scale(1.05);
        }
        
        /* --- Footer --- */
        footer {
            padding: 60px 0;
            text-align: center;
            font-size: 14px;
        }

        /* --- Responsive Design --- */
        @media (max-width: 992px) {
            .demo-container { flex-direction: column; }
            .demo-chat-window { transform: none; }
            .demo-chat-wrapper:hover .demo-chat-window { transform: none; }
            #hero h1 { font-size: 44px; }
        }
        
        @media (max-width: 768px) {
            .nav-links { display: none; }
            #hero h1 { font-size: 38px; }
            #hero p { font-size: 18px; }
            .section-title h2 { font-size: 32px; }
            
            .infographic-flow::before { right: 20px; transform: none; }
            .flow-item, .flow-item:nth-child(even) { flex-direction: row; }
            .flow-item:nth-child(odd) .flow-content, .flow-item:nth-child(even) .flow-content {
                padding-left: 0;
                padding-right: 25px;
                text-align: right;
            }
            .flow-item {
                /* Invert order for content to appear after icon */
                flex-direction: row-reverse;
            }
        }
        
        /* --- Animations --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }
        
        @keyframes background-pulse {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(1.2); opacity: 0.5; }
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.1",
    "react-dom/": "https://esm.sh/react-dom@^19.1.1/",
    "react/": "https://esm.sh/react@^19.1.1/",
    "vite": "https://esm.sh/vite@^7.1.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.0.0"
  }
}
</script>
</head>
<body>
    <header class="main-header">
        <div class="container navbar">
            <a href="#" class="logo">Aiolexa</a>
            <nav>
                <ul class="nav-links">
                    <li><a href="#features">ویژگی‌ها</a></li>
                    <li><a href="#demo">دموی زنده</a></li>
                    <li><a href="#faq">سوالات متداول</a></li>
                </ul>
            </nav>
            <a href="#cta" class="btn btn-primary">دریافت افزونه</a>
        </div>
    </header>

    <main>
        <section id="hero">
            <div class="container">
                <h1 class="reveal">هوش مصنوعی <span class="highlight">Gemini</span><br> برای وب‌سایت وردپرسی شما</h1>
                <p class="reveal" style="transition-delay: 0.2s;">با Aiolexa، به سوالات کاربران فوراً پاسخ دهید، فروش خود را افزایش دهید و پشتیبانی مشتریان را ۲۴ ساعته و بدون وقفه متحول کنید.</p>
                <div class="hero-actions reveal" style="transition-delay: 0.4s;">
                    <a href="#demo" class="btn btn-primary">مشاهده دموی زنده</a>
                </div>
            </div>
        </section>

        <section id="features" class="container">
            <div class="section-title reveal">
                <h2>یک دستیار هوشمند، نه یک ربات معمولی</h2>
                <p>ما بهترین تکنولوژی‌ها را ترکیب کرده‌ایم تا ابزاری قدرتمند و در عین حال ساده برای رشد کسب‌وکار شما فراهم کنیم.</p>
            </div>
            
            <div class="infographic-flow">
                <div class="flow-item reveal">
                     <div class="flow-content">
                        <h3>۱. نصب آسان در ۵ دقیقه</h3>
                        <p>افزونه را نصب کنید، کلید API رایگان خود را از Google AI Studio وارد کنید و تمام! چت‌بات شما آماده خدمت‌رسانی است. بدون نیاز به هیچ‌گونه کدنویسی.</p>
                    </div>
                    <div class="flow-icon-wrapper">
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" /></svg>
                    </div>
                </div>
                
                <div class="flow-item reveal">
                    <div class="flow-content">
                        <h3>۲. قدرت گرفته از Gemini 2.5 Flash</h3>
                        <p>از پیشرفته‌ترین و سریع‌ترین مدل زبان گوگل برای ارائه پاسخ‌های دقیق، طبیعی و به‌روز به کاربران خود بهره ببرید. مکالماتی هوشمند که منجر به رضایت مشتری می‌شود.</p>
                    </div>
                    <div class="flow-icon-wrapper">
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18.375a6.375 6.375 0 006.375-6.375h.038a6.375 6.375 0 00-6.375-6.375a6.375 6.375 0 00-6.375 6.375h-.038a6.375 6.375 0 006.375 6.375zM12 21a8.25 8.25 0 01-8.25-8.25H3a9.75 9.75 0 019-9.75 9.75 9.75 0 019 9.75h-.75A8.25 8.25 0 0112 21z" /></svg>
                    </div>
                </div>

                <div class="flow-item reveal">
                    <div class="flow-content">
                        <h3>۳. آموزش با دانش کسب‌وکار شما</h3>
                        <p>به سادگی به ربات اجازه دهید محتوای وب‌سایت شما (نوشته‌ها و برگه‌ها) را بخواند. ربات از محصولات و خدمات شما آگاه شده و پاسخ‌هایی کاملاً سفارشی و مرتبط ارائه می‌دهد.</p>
                    </div>
                     <div class="flow-icon-wrapper">
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>
                    </div>
                </div>

                <div class="flow-item reveal">
                    <div class="flow-content">
                        <h3>۴. پل ارتباطی با پشتیبانی انسانی</h3>
                        <p>هیچوقت مشتری را تنها نگذارید. کاربران می‌توانند هر لحظه با یک کلیک درخواست صحبت با اپراتور انسانی را ثبت کنند و شما از طریق پنل وردپرس پاسخ دهید.</p>
                    </div>
                    <div class="flow-icon-wrapper">
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.75 9.75 0 10-12.013-1.482l-2.094 2.093a.75.75 0 001.06 1.06l2.094-2.093A9.703 9.703 0 0012 21.75c1.45 0 2.82-.31 4.093-.872z" /></svg>
                    </div>
                </div>
            </div>
        </section>

        <section id="demo">
            <div class="container demo-container">
                <div class="demo-text reveal">
                    <div class="section-title" style="text-align: right; margin-bottom: 20px;">
                        <h2>قدرت را از نزدیک لمس کنید</h2>
                        <p>با این دموی تعاملی، ببینید چت‌بات چگونه می‌تواند به سوالات متداول کاربران شما پاسخ دهد و آن‌ها را به سمت خرید هدایت کند.</p>
                    </div>
                </div>
                <div class="demo-chat-wrapper reveal" style="transition-delay: 0.2s;">
                    <div class="demo-chat-window" id="chat-demo">
                        <div class="chat-header">دستیار هوشمند Aiolexa</div>
                        <div class="chat-body" id="chat-body">
                            <!-- Messages will be injected here by JS -->
                        </div>
                        <div class="chat-actions" id="chat-actions">
                            <!-- Action buttons will be injected here by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="faq" class="container">
             <div class="section-title reveal">
                <h2>سوالات متداول</h2>
                <p>پاسخ سوالات رایج در مورد افزونه را اینجا پیدا کنید.</p>
            </div>
            <div class="faq-list" style="max-width: 800px; margin: auto;">
                <div class="faq-item reveal">
                    <div class="faq-question">
                        <span>آیا برای نصب به دانش برنامه‌نویسی نیاز دارم؟</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>خیر. این افزونه طوری طراحی شده که هر کسی با دانش پایه وردپرس بتواند آن را به راحتی نصب، پیکربندی و استفاده کند. هیچ نیازی به یک خط کدنویسی نیست.</p>
                    </div>
                </div>
                 <div class="faq-item reveal">
                    <div class="faq-question">
                        <span>هزینه استفاده از Google Gemini API چقدر است؟</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>گوگل یک طرح رایگان بسیار سخاوتمندانه برای Gemini API ارائه می‌دهد که برای بسیاری از وب‌سایت‌های با ترافیک متوسط کافی است. برای اطلاعات دقیق‌تر در مورد قیمت‌گذاری، می‌توانید به وب‌سایت Google AI Studio مراجعه کنید.</p>
                    </div>
                </div>
                 <div class="faq-item reveal">
                    <div class="faq-question">
                        <span>آیا این افزونه با قالب سایت من سازگار است؟</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>بله، افزونه ما با تمام قالب‌های استاندارد وردپرس که به درستی کدنویسی شده‌اند، سازگار است. ویجت چت به صورت یک عنصر شناور به سایت اضافه می‌شود و با طراحی شما تداخلی ایجاد نمی‌کند.</p>
                    </div>
                </div>
                 <div class="faq-item reveal">
                    <div class="faq-question">
                        <span>آیا اطلاعات مکالمات کاربران امن است؟</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>بله. در صورت فعال‌سازی، تمام تاریخچه مکالمات به صورت امن در دیتابیس وردپرس **شما** ذخیره می‌شود و ما به هیچ‌یک از اطلاعات شما دسترسی نداریم. حریم خصوصی اولویت ماست.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="cta-wrapper" class="container">
            <div id="cta" class="reveal">
                <h2>آماده‌اید تا وب‌سایت خود را هوشمند کنید؟</h2>
                <a href="#" class="btn btn-primary">افزونه را همین حالا دریافت کنید</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Aiolexa - تمام حقوق محفوظ است.</p>
        </div>
    </footer>

    <script>
        // --- On-Scroll Reveal Animation ---
        const revealElements = document.querySelectorAll('.reveal');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    // Optional: unobserve after revealing
                    // observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        revealElements.forEach(el => observer.observe(el));


        // --- FAQ Accordion ---
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                const isActive = item.classList.contains('active');
                // Close all others
                // faqItems.forEach(i => i.classList.remove('active'));
                if (!isActive) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        });

        // --- Mock Chat Demo Logic ---
        const chatBody = document.getElementById('chat-body');
        const chatActions = document.getElementById('chat-actions');
        
        const demoScenario = [
            { // 0: Initial
                type: 'bot',
                text: 'سلام! من دستیار هوشمند شما هستم. چطور می‌توانم کمکتان کنم؟',
                actions: [
                    { text: 'محصولات شما چیست؟', next: 1 },
                    { text: 'ساعات کاری شما؟', next: 2 }
                ]
            },
            { // 1: User asks about products
                type: 'user',
                text: 'محصولات شما چیست؟',
                responses: [
                    {
                        type: 'bot',
                        text: 'ما افزونه‌های هوش مصنوعی برای وردپرس ارائه می‌دهیم که به رشد کسب‌وکار شما کمک می‌کنند. محصول اصلی ما همین چت‌بات هوشمند است.',
                        actions: [
                             { text: 'عالی! قیمت‌گذاری چطور است؟', next: 3 },
                             { text: 'برگردیم به اول', next: 0 }
                        ]
                    }
                ]
            },
            { // 2: User asks about working hours
                type: 'user',
                text: 'ساعات کاری شما؟',
                responses: [
                    {
                        type: 'bot',
                        text: 'من به عنوان یک دستیار هوشمند، ۲۴ ساعته و ۷ روز هفته در خدمت شما هستم! اما تیم پشتیبانی انسانی ما از شنبه تا چهارشنبه، ساعت ۹ صبح تا ۵ بعد از ظهر پاسخگو هستند.',
                        actions: [
                            { text: 'محصولات شما چیست؟', next: 1 },
                            { text: 'ممنون از راهنمایی', next: 4 }
                        ]
                    }
                ]
            },
            { // 3: User asks about pricing
                type: 'user',
                text: 'عالی! قیمت‌گذاری چطور است؟',
                responses: [
                     {
                        type: 'bot',
                        text: 'افزونه اصلی رایگان است و شما تنها هزینه استفاده از API گوگل را پرداخت می‌کنید که آن هم طرح رایگان سخاوتمندانه‌ای دارد. برای ویژگی‌های پیشرفته‌تر، می‌توانید به وب‌سایت ما مراجعه کنید.',
                        actions: [
                            { text: 'برگردیم به اول', next: 0 }
                        ]
                    }
                ]
            },
            { // 4: User says thanks
                type: 'user',
                text: 'ممنون از راهنمایی',
                 responses: [
                     {
                        type: 'bot',
                        text: 'خواهش می‌کنم! اگر سوال دیگری داشتید، من اینجا هستم.',
                        actions: [
                            { text: 'برگردیم به اول', next: 0 }
                        ]
                    }
                ]
            }
        ];

        function addMessage(type, text) {
            const messageEl = document.createElement('div');
            messageEl.className = `chat-message ${type}`;
            messageEl.textContent = text;
            chatBody.appendChild(messageEl);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        function showTypingIndicator() {
            const typingEl = document.createElement('div');
            typingEl.className = 'chat-message bot typing-indicator';
            typingEl.innerHTML = '<span></span><span></span><span></span>';
            chatBody.appendChild(typingEl);
            chatBody.scrollTop = chatBody.scrollHeight;
            return typingEl;
        }

        function updateActions(actions) {
            chatActions.innerHTML = '';
            if (actions) {
                actions.forEach(action => {
                    const button = document.createElement('button');
                    button.className = 'chat-action-button';
                    button.textContent = action.text;
                    button.onclick = () => handleActionClick(action.next);
                    chatActions.appendChild(button);
                });
            }
        }
        
        function disableActions() {
            const buttons = chatActions.querySelectorAll('button');
            buttons.forEach(b => b.disabled = true);
        }

        function handleActionClick(nextNodeIndex) {
            // Find the scenario entry for the user's choice
            const userChoice = demoScenario[nextNodeIndex];
            
            disableActions();

            // If the next node is just a bot response (like going back to start)
            if (userChoice.type === 'bot') {
                 startDemo();
                 return;
            }
            
            // Add the user's message to the chat
            addMessage('user', userChoice.text);
            
            const typingIndicator = showTypingIndicator();
            
            setTimeout(() => {
                chatBody.removeChild(typingIndicator);
                const botResponse = userChoice.responses[0];
                addMessage('bot', botResponse.text);
                updateActions(botResponse.actions);
            }, 1500);
        }

        function startDemo() {
            chatBody.innerHTML = '';
            const initialStep = demoScenario[0];
            addMessage(initialStep.type, initialStep.text);
            updateActions(initialStep.actions);
        }

        // Initialize the demo on page load
        startDemo();
    </script>
</body>
</html>
